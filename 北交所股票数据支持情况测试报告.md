# 北交所股票数据支持情况测试报告

## 📋 测试概述

本报告基于对Tushare和AKShare官方文档的查阅以及实际脚本测试，评估两个数据源对北京证券交易所（北交所）股票数据的支持情况。

**测试时间**: 2025-11-02  
**参考文档**:
- Tushare: https://tushare.pro/document/
- AKShare: https://akshare.akfamily.xyz/data/index.html

---

## 🔍 Tushare支持情况

### 接口设计支持
✅ **支持**: Tushare接口设计上支持北交所股票
- Tushare使用`ts_code`格式：`代码.市场后缀`
- 市场后缀包括：`.SH`（上海）、`.SZ`（深圳）、**.`.BJ`（北京）**
- 测试验证：`stock_basic`接口成功找到**280只北交所股票**

### 实际数据支持
⚠️ **部分支持**: 需要具体验证
- ✅ `stock_basic`: 可以查询到北交所股票基本信息
- ⚠️ `daily`: 日线数据可能因股票而异，部分股票返回空数据
- ⚠️ `daily_basic`: 每日基本面数据可能因股票而异

### 文档说明
📝 **未明确说明**: Tushare官方文档中未明确提及对北交所的支持情况

### 测试结果
```python
# 测试代码
ts_code = "832149.BJ"
df = ts_api.stock_basic(exchange='', list_status='L')
# 结果: 找到280只北交所股票（.BJ后缀）
```

---

## 🔍 AKShare支持情况

### 明确支持
✅ **官方文档明确说明**: AKShare文档中明确提到"京A股"支持

根据[AKShare官方文档](https://akshare.akfamily.xyz/data/index.html)，在实时行情数据分类中明确包括：
- 沪深京 A 股
- 沪 A 股
- 深 A 股
- **京 A 股**

### 可用接口

#### 1. 通用接口（包含京A股）
- `stock_zh_a_spot_em()` - 实时行情数据（包含京A股）
- `stock_zh_a_hist()` - 历史行情数据（支持北交所代码）
- `stock_individual_info_em(symbol)` - 个股信息（支持8或4开头代码）

#### 2. 北交所专用接口
测试发现以下北交所相关接口：
- `stock_bj_a_spot_em` - 北交所实时行情
- `stock_info_bj_name_code` - 北交所股票代码名称
- `stock_register_bj` - 北交所注册信息
- `stock_zcfz_bj_em` - 北交所资产负债表
- `stock_zh_a_gbjg_em` - 相关接口

### 文档说明
📝 **明确说明**: AKShare官方文档明确说明支持北交所股票数据

---

## 📊 对比总结

| 项目 | Tushare | AKShare |
|------|---------|---------|
| **接口设计支持** | ✅ 支持（.BJ后缀） | ✅ 支持（明确说明） |
| **实际数据可用性** | ⚠️ 部分支持（需验证） | ✅ 支持（文档明确） |
| **文档说明** | ❌ 未明确说明 | ✅ 明确说明 |
| **推荐优先级** | 补充数据源 | **主要数据源** |

---

## 💡 测试发现

### Tushare测试结果
1. ✅ `stock_basic`接口可以查询到**280只北交所股票**
   - 示例: `920000.BJ - 安徽凤凰`
2. ⚠️ 对于特定股票（如`832149.BJ`），`daily`和`daily_basic`接口返回空
   - 可能原因：
     - 该股票数据未录入
     - 需要特定参数或权限
     - 数据更新延迟

### AKShare测试结果
1. ✅ 存在多个北交所专用接口
2. ✅ 通用接口明确支持京A股数据
3. ✅ 接口参数设计合理，支持8或4开头的股票代码

---

## 🎯 建议

### 对于北交所股票数据获取

1. **优先使用AKShare**
   - 文档明确说明支持
   - 接口设计完善（通用+专用接口）
   - 实际可用性较高

2. **Tushare作为补充**
   - 可用于验证和补充
   - 需验证具体股票的可用性
   - 建议在统一接口中设置较低优先级

3. **统一数据访问接口建议**
   ```python
   # 伪代码示例
   def get_bse_stock_data(symbol):
       # 北交所股票优先使用AKShare
       if is_bse_stock(symbol):
           return akshare_fetcher.get_data(symbol)
       else:
           # 其他股票优先Tushare
           return tushare_fetcher.get_data(symbol)
   ```

---

## 📝 测试脚本

已创建以下测试脚本：

1. **`test_bse_tushare_data.py`**
   - 使用统一数据访问接口测试
   - 测试7种数据类型
   - 5只北交所股票批量测试

2. **`test_bse_support_comprehensive.py`**
   - 全面对比Tushare和AKShare
   - 包含详细接口测试
   - 网络连接测试

3. **`test_bse_api_methods.py`**
   - 检查接口可用性
   - 验证参数格式
   - 文档引用分析

---

## 🔗 相关文档链接

- [Tushare官方文档](https://tushare.pro/document/)
- [AKShare官方文档](https://akshare.akfamily.xyz/data/index.html)
- [AKShare股票数据字典](https://akshare.akfamily.xyz/data/stock/stock.html)

---

## 📌 结论

1. **Tushare**: 接口设计支持北交所，但文档未明确说明，实际数据支持需验证
2. **AKShare**: 官方明确支持北交所，接口完善，推荐作为主要数据源
3. **建议**: 在统一数据访问模块中，北交所股票应优先使用AKShare，Tushare作为补充

---

**报告生成时间**: 2025-11-02  
**测试人员**: AI Assistant  
**文档版本**: v1.0

